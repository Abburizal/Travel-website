<!DOCTYPE html>
<html>
<head>
    <title>Tour Detail Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .test { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .error { background: #f8d7da; border-color: #f5c6cb; }
        .info { background: #d1ecf1; border-color: #bee5eb; }
        pre { background: #f4f4f4; padding: 10px; overflow: auto; }
    </style>
</head>
<body>
    <h1>üîç Tour Detail Navigation Test</h1>
    
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        // Test 1: API Endpoint
        async function testAPI() {
            const div = document.createElement('div');
            div.className = 'test';
            div.innerHTML = '<h3>Test 1: API Endpoint /api/tours/1</h3><p>Testing...</p>';
            results.appendChild(div);
            
            try {
                const response = await fetch('http://127.0.0.1:8000/api/tours/1');
                const data = await response.json();
                
                if (response.ok) {
                    div.className = 'test success';
                    div.innerHTML = `
                        <h3>‚úÖ Test 1: API Endpoint - PASSED</h3>
                        <p>Status: ${response.status}</p>
                        <p>Tour ID: ${data.id}</p>
                        <p>Tour Name: ${data.name || 'NULL'}</p>
                        <pre>${JSON.stringify(data, null, 2).substring(0, 500)}...</pre>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                div.className = 'test error';
                div.innerHTML = `
                    <h3>‚ùå Test 1: API Endpoint - FAILED</h3>
                    <p>Error: ${error.message}</p>
                `;
            }
        }
        
        // Test 2: React App Loading
        function testReactApp() {
            const div = document.createElement('div');
            div.className = 'test info';
            results.appendChild(div);
            
            setTimeout(() => {
                const reactRoot = document.querySelector('#root');
                if (reactRoot && reactRoot.innerHTML.trim() !== '') {
                    div.className = 'test success';
                    div.innerHTML = `
                        <h3>‚úÖ Test 2: React App - LOADED</h3>
                        <p>React root element exists and has content</p>
                    `;
                } else {
                    div.className = 'test error';
                    div.innerHTML = `
                        <h3>‚ùå Test 2: React App - NOT LOADED</h3>
                        <p>React root element is empty or doesn't exist</p>
                    `;
                }
            }, 2000);
        }
        
        // Test 3: Console Errors
        function testConsoleErrors() {
            const div = document.createElement('div');
            div.className = 'test info';
            div.innerHTML = `
                <h3>Test 3: Console Check</h3>
                <p>Open browser DevTools (F12) and check Console tab</p>
                <p>Look for:</p>
                <ul>
                    <li>üîç TourDetail mounted messages</li>
                    <li>üì° API call messages</li>
                    <li>‚ùå Any error messages</li>
                </ul>
            `;
            results.appendChild(div);
        }
        
        // Test 4: Navigation Test
        function testNavigation() {
            const div = document.createElement('div');
            div.className = 'test info';
            div.innerHTML = `
                <h3>Test 4: Navigation Test</h3>
                <p><a href="http://127.0.0.1:8000/tours/1" target="_blank">Click here to test /tours/1 navigation</a></p>
                <p>After clicking, check if:</p>
                <ul>
                    <li>URL changes to /tours/1</li>
                    <li>Page shows tour details (not blank)</li>
                    <li>Console shows debug messages</li>
                </ul>
            `;
            results.appendChild(div);
        }
        
        // Run all tests
        testAPI();
        testReactApp();
        testConsoleErrors();
        testNavigation();
    </script>
</body>
</html>
